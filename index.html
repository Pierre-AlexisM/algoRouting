<!DOCTYPE html>
<html>
    <head>
        <title>Find your way</title>
        <link rel="stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
        <link rel="stylesheet" href = "style.css" />
    </head>
    <body>
        <div class="menu-destinations">
            <ul class="listing-destinations"></ul>
        </div>
        <div id="distance">Hello</div>
        <div id = "map">
            <div class="chat-box">   
                <ul id="messages"></ul>
                <form id="form" action="">
                    <input id="input" autocomplete="off" /><button>Send</button>
                </form>
            </div>
        </div>
        <div class="room">
            <ul class="listing-users">
                <li onclick="toggleUser()" class="user" id="user1">Alex</li>
                <li onclick="getDistance()" class="user" id="user2">Nicolas</li>
                <li onclick="createMarker()" class="user" id="user3">Benoit</li>
            </ul>
        </div>
        <script>
            let socket = io();

            let messages = document.getElementById('messages');
            let form = document.getElementById('form');
            let input = document.getElementById('input');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                if (input.value) {
                socket.emit('chat message', input.value);
                input.value = '';
                }
            });

            socket.on('chat message', function(msg) {
                var item = document.createElement('li');
                item.textContent = msg;
                messages.appendChild(item);
                window.scrollTo(0, document.body.scrollHeight);
            });
        </script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
        <script src="/script.js"></script>
    </body>
</html>
